 <section class="min-vh-100" id="main">

<!-- Page Content -->
<div class="min-vh-100" id="">
  <!-- Header/Home -->
  <div class="min-vh-100 w3-padding-32 w3-center w3-black" id="home" >

    <!--<i class="fa-solid fa-hat-cowboy"></i>-->
    <h1 class="w3-jumbo"><span class="w3-hide-small">I'm</span>

      <img
        width="100"
        alt="Torito Logo"
        src="https://res.cloudinary.com/dzyvb836r/image/upload/v1644816267/brand_gp5nbj.png"
      ></h1>
    <p>Burgers & Beers</p>
    <div class="col-sm-12 " >




				<div class="login min-vh-100" id="principalGiftcard" style="">
						<div class="login-triangle"></div>

								<div class="d-flex justify-content-center"  *ngIf="giftcard">
										                  
									<img src="" *ngIf=""/><!--con el ngiF , significal que la tuliza si esta listada--->
														<div class="gC">





<form id="formEdit"  #giftcardForm3="ngForm" (ngSubmit)="upload(giftcardForm3)">


<!----------------------------------------------- EDIT GITFCARD BODY AREA ---------------------------------------------------------------->

<div  *ngIf="confirm==true">

    								<label>PASO 2</label><br>
    								<br>
    								<label for="buyerEmail" id="">Email comprador</label><br>
    								<input type="text" name="buyerEmail" #buyerEmail="ngModel"
    									[(ngModel)]="giftcard.buyerEmail"  /><br>
    								<span class="form_error" *ngIf="buyerEmail.touched && !buyerEmail.valid">El cliente /
    									agasajado es obligatorio</span><br>

    								<label for="payment_id">Ticket</label><br>
    								<input type="number" name="payment_id" #payment_id="ngModel"
    									[(ngModel)]="giftcard.payment_id" /><br>
    								<span class="form_error" *ngIf="payment_id.touched && !payment_id.valid">El pago es
    									obligatorio.</span><br>


    								<label for="payment_type">Metodo de pago usado </label><br>
    								<input type="text" name="payment_type" #payment_type="ngModel"
    									[(ngModel)]="giftcard.payment_type"  /><br>
    								<span class="form_error" *ngIf="payment_type.touched && !payment_type.valid">El método
    									de pago es obligatorio.</span><br>

    								<label for="status">Status del pago</label><br>
    								<label type="text" name="status" #status="ngModel"
    									[(ngModel)]="giftcard.status"><br>{{giftcard.status}}</label>
    								<br>
    								<br>
    								<span class="alert alert-success" role="alert"
    									*ngIf="giftcard.status==='approved'">payment check!</span>
    								<span class="alert alert-warning" role="alert" *ngIf="giftcard.status===''"> waiting
    									payment!</span>

    								<span class="alert alert-danger" role="alert" *ngIf="giftcard.status==='denied'">
    									payment failed!</span>




    								<br>
    								<br>
    								<br>
    								 <label for ="consumedDate">Fecha de consumo </label><br>
    								  
    								   <br>


    								<label for="client">Nombre de cliente o agasajado</label><br>
    								<input type="text" name="client" #client="ngModel" [(ngModel)]="giftcard.client"
    									 /><br>
    								<span class="form_error" *ngIf="client.touched && !client.valid">El cliente / agasajado
    									es obligatorio</span><br>


    								<label for="emailClient"> Email del Cliente o agasajado:</label><br>
    								<input type="text" name="emailClient" #emailClient="ngModel"
    									[(ngModel)]="giftcard.emailClient"  /><br>
    								<span class="form_error" *ngIf="emailClient.touched && !emailClient.valid">El email del
    									cliente / agasajado es obligatorio</span><br>


    								<label for="dni">Dni</label><br>
    								<input type="number" name="dni" #dni="ngModel" [(ngModel)]="giftcard.dni" 
    									min="1000000" /><br>
    								<span class="form_error" *ngIf="dni.touched && !dni.valid">El dni del cliente /
    									agasajado está incompleto o no es válido</span><br>

    								<label for="phoneClient"> Teléfono de contacto</label><br>
    								<input type="number" name="phoneClient" #phoneClient="ngModel"
    									[(ngModel)]="giftcard.phoneClient"  min="1000000000" /><br>
    								<span class="form_error" *ngIf="phoneClient.touched && !phoneClient.valid">El teléfono
    									del cliente / agasajado está incompleto o no es válido</span><br>


    									<label for="buyerName">Comprador / Nombre</label><br>
    									<input type="text" name="buyerName" #buyerName="ngModel"
    										[(ngModel)]="giftcard.buyerName"  /> <br>
    									<!--[(ngModel)]="project.name" 2 ways data binding para modificar el atributo name del project-->
    									<!-- el # indica que es la identificacion para Angular-->
    									<span class="form_error" *ngIf="buyerName.touched && !buyerName.valid">El nombre es
    										obligatorio</span><br>



    									<label for="amount">Monto en ARS</label><br>
    									<input type="number" name="amount" #amount="ngModel" [(ngModel)]="giftcard.amount"
    										 /><!-- --><br>
    									<span class="form_error" *ngIf="amount.touched && amount.pristine">El monto es
    										obligatorio.</span><br>



    									<label for="issuedDate">Fecha de compra</label><br>
    									<input type="date" name="issuedDate" #issuedDate="ngModel"
    										[(ngModel)]="giftcard.issuedDate"  /><br>
    									<span class="form_error" *ngIf="issuedDate.touched && !issuedDate.valid">La fecha de
    										compra es obligatoria.</span><br>

    								</div>

										                      <table class="table" *ngIf="confirm==false">
										                          <tr>
										                              <td><span id="highL2"> Valor:</span></td>
										                              <td><span id="tGc2">{{giftcard.amount}}</span></td>
										                          </tr>
										                         <tr>
										                              <td><span id="highL2"> Status:</span></td>
										                              <td><span id="tGc2">{{giftcard.status}}</span></td>
										                          </tr>
										                          <tr>
										                              <td><span id="highL2"> Comprador:</span></td>
										                              <td><span id="tGc2">{{giftcard.buyerName}}</span></td>
										                          </tr>
										                          <tr>
										                              <td><span id="highL2"> Fecha de compra:</span></td>
										                              <td><span id="tGc2">{{giftcard.issuedDate}}</span></td>
										                          </tr>
										                          <tr>
										                              <td><span id="highL2"> Fecha consumida:</span></td>
										                              <td><span id="tGc2"> <input type="date" name="consumedDate" #consumedDate="ngModel"[(ngModel)]="giftcard.consumedDate" />
    								 														  <span class="form_error" *ngIf="consumedDate.touched && !consumedDate.valid"></span><br></span></td>
										                          </tr>
										                          <tr>
										                              <td><span id="highL2"> Email comprador:</span></td>
										                              <td><span id="tGc2">{{giftcard.buyerEmail}}</span></td>
										                          </tr>
										                          <tr>
										                              <td><span id="highL2"> Metodo de pago:</span></td>
										                              <td><span id="tGc2">{{giftcard.payment_type}}</span></td>
										                          </tr>
										                          <tr>
										                              <td><span id="highL2"> Id de pago:</span></td>
										                              <td><span id="tGc2">{{giftcard.payment_id}}</span></td>
										                          </tr>   

										                           <tr>
										                              <td><span id="highL2"> Id orden de compra:</span></td>
										                              <td><span id="tGc2">{{giftcard.merchant_order_id}}</span></td>
										                          </tr>  

										                           <tr>
										                              <td><span id="highL2">Cliente :</span></td>
										                              <td><span id="tGc2">{{giftcard.client}}</span></td>
										                          </tr>  

										                           <tr>
										                              <td><span id="highL2"> Email cliente:</span></td>
										                              <td><span id="tGc2">{{giftcard.emailClient}}</span></td>
										                          </tr>  

										                           <tr>
										                              <td><span id="highL2"> DNI/CUIL:</span></td>
										                              <td><span id="tGc2">{{giftcard.dni}}</span></td>
										                          </tr>  
										                            <tr>
										                              <td><span id="highL2"> Telefono:</span></td>
										                              <td><span id="tGc2">{{giftcard.phoneClient}}</span></td>
										                          </tr>  

										                            <tr>
										                              <td><span id="highL2"> Mongo-DB-Id:</span></td>
										                              <td><span id="tGc2">{{"["+giftcard._id+"]"}}</span></td>
										                          </tr>


										                      </table>




    								<div class="alert alert-success" role="alert" *ngIf="statuss =='success'">
    									Se actualizó la giftcard.</div>



															
										                      <p>

    									<br>
    								

										                       
										                        <div  class="d-flex justify-content-center" *ngIf="confirm==false">

										                              <button id="btn1" class="btn btn-success m-3 p-2" type="submit" value="Confirmar!"
    										[disabled]="!giftcardForm3.form.valid" ><i class='fa fa-edit'></i>  Guardar
										                              </button>

										                             
										                              <button id="btn1" class="btn btn-secondary  m-3 p-2" [routerLink]="['/giftcards']" > <i class='fa fa-undo'></i> Volver
										                              </button>

										                               <button id="btn1" class="btn btn-outline-dark m-3 p-2" style="background-color:ghostwhite;" (click)="setConfirm(true)" >
										                              	<i class='fa fa-edit'></i>
										                                Body 
										                              </button>


										                        </div>
										                        </form>
										                        <div *ngIf="confirm==true">
										                          
										                            
										                            




 																						<div  class="d-flex justify-content-center"  *ngIf="confirm2==false">

 																							 <button id="btn1" class="btn btn-success m-3 p-2" type="submit" value="Confirmar!"
    																						[disabled]="!giftcardForm3.form.valid" ><i class='fa fa-edit'></i>  Guardar
										                              </button>

                                                 

																								<button class="btn btn-secondary m-3 p-2" ><a (click)="setConfirm(false)"><i class='fa fa-undo'></i> Volver </a></button>


																								<button id="btn1" class="btn btn-warning m-3 p-2" (click)="setDelete(true)" >
										                              	<i class='fa-solid fa-trash-can'></i>
										                                Borrar 
										                              </button>
                                                  
																									


                                                  

                                                 
                                            </div>


																			<div   *ngIf="delete==true">

																							<div  class="d-flex justify-content-center">

 																							<span class="confirm">¿Estás seguro de eliminar la giftcard?</span>

																							</div>
                                                 

																								<div  class="d-flex justify-content-center">
																								<button class="btn btn-secondary m-3 p-2" ><a (click)="undoDelete(true)"><i class='fa fa-undo'></i> Volver </a></button>


																								                                                  
																									<button class="btn btn-danger  m-3 p-2 disabled"><a (click)="deleteGiftcard(giftcard._id)"><i class='fa-solid fa-trash-can'></i> Eliminar</a></button>		

																									</div>
                                                  

                                                 
                                            </div>


																		</div>











										               	 </div>

				                    
				             	</div>								    


						</div>
 				 </div>
</div>

  

</div>

</section>















 

